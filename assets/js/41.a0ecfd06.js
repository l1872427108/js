(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{439:function(t,e,v){"use strict";v.r(e);var _=v(56),a=Object(_.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"ajax、fetch"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ajax、fetch"}},[t._v("#")]),t._v(" ajax、fetch")]),t._v(" "),v("h3",{attrs:{id:"ajax-缺点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ajax-缺点"}},[t._v("#")]),t._v(" ajax 缺点")]),t._v(" "),v("ul",[v("li",[t._v("本身是针对 MVC 编程，不符合前端 MVVM 的浪潮。")]),t._v(" "),v("li",[t._v("基于原生 XML 开发，XML 本身的架构不清晰。")]),t._v(" "),v("li",[t._v("不符合关注分离的原则。")]),t._v(" "),v("li",[t._v("配置和调用方式混乱，而且基于事件的异步模型不友好。")])]),t._v(" "),v("h3",{attrs:{id:"fetch"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#fetch"}},[t._v("#")]),t._v(" Fetch")]),t._v(" "),v("p",[t._v("在 ES6 出现，是用了 ES6 的 promise 对象。 Fetch 是基于 promise 设计的。")]),t._v(" "),v("p",[t._v("Fetch 代码结构比 ajax 简单多。 fetch 不是 ajax 的进一步封装，而是原生 js，没有使用 XMLHttpRequest 对象。")]),t._v(" "),v("p",[t._v("fetch 优点：")]),t._v(" "),v("ul",[v("li",[t._v("语法简洁，语义化。")]),t._v(" "),v("li",[t._v("基于标准 promise 实现，支持 async/await")]),t._v(" "),v("li",[t._v("更加底层，提供api丰富。")]),t._v(" "),v("li",[t._v("脱离XMR，是ES规范里的新的实现方式。")])]),t._v(" "),v("p",[t._v("fetch 缺点：")]),t._v(" "),v("ul",[v("li",[t._v("fetch 只对网络请求报错，对 400，500 都当作成功的请求。服务器返回 400， 500 时并不会reject，只有网络错误导致请求不能完成时，fetch 才会被 reject。")]),t._v(" "),v("li",[t._v("fetch 默认不会带 cookie，需要配置 fetch(url, {credentials: 'include'}😉")]),t._v(" "),v("li",[t._v("fetch 不支持超时控制。使用 setTimeout 及 promose.reject 的实现的超时控制并不能阻止请求过程继续在后台运行，造成流量浪费。")]),t._v(" "),v("li",[t._v("fetch 没有办法原生监控请求的进度。")])]),t._v(" "),v("h3",{attrs:{id:"axios"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#axios"}},[t._v("#")]),t._v(" axios")]),t._v(" "),v("ul",[v("li",[t._v("基于promise 封装的 HTTP 客户端。")]),t._v(" "),v("li",[t._v("浏览器发起 XMLHttpRequest 请求。")]),t._v(" "),v("li",[t._v("node 端发起 http 请求。")]),t._v(" "),v("li",[t._v("支持 promise 请求。")]),t._v(" "),v("li",[t._v("监听请求和返回。")]),t._v(" "),v("li",[t._v("拦截器。")]),t._v(" "),v("li",[t._v("取消请求。")]),t._v(" "),v("li",[t._v("自动转换 json 数据。")]),t._v(" "),v("li",[t._v("客户端支持防御 XSRF 攻击。")])])])}),[],!1,null,null,null);e.default=a.exports}}]);