(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{490:function(t,a,s){"use strict";s.r(a);var n=s(56),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"作用域链"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作用域链"}},[t._v("#")]),t._v(" 作用域链")]),t._v(" "),s("h3",{attrs:{id:"作用域链-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作用域链-2"}},[t._v("#")]),t._v(" 作用域链")]),t._v(" "),s("p",[t._v("函数在创建的时候有一个内部属性 [[scope]] ，里面保存所有父变量对象到其中， [[scope]] 就是所有父变量对象的层级链，但是并不是完整的作用域链子。")]),t._v(" "),s("p",[t._v("在每个执行上下文的变量环境中, 会将活动对象添加到作用链的前端。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("Scope "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("当前函数作用域"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("scope"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("当一段代码使用了一个变量时，JavaScript 引擎首先会在“当前的执行上下文”中查找该变量。")]),t._v(" "),s("p",[t._v("如果在当前的变量环境中没有查找到，那么 JavaScript 引擎会继续在 outer 所指向的执行上下文中查找。")]),t._v(" "),s("img",{attrs:{src:"/js/作用域链1.png",width:"700",height:"700"}}),t._v(" "),s("p",[t._v("如果在 bar 函数或者 foo 函数中使用了外部变量，JavaScript 引擎会去全局执行上下文中查找。我们把这个查找的链条就称为作用域链。")]),t._v(" "),s("p",[t._v("foo 函数调用的 bar 函数，那为什么 bar 函数的外部引用是全局执行上下文，而不是 foo 函数的执行上下文？")]),t._v(" "),s("p",[t._v("这是因为词法作用域（看词法作用域章节）。")])])}),[],!1,null,null,null);a.default=r.exports}}]);