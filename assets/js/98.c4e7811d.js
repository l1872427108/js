(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{495:function(t,s,a){"use strict";a.r(s);var n=a(56),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"大数危机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#大数危机"}},[t._v("#")]),t._v(" 大数危机")]),t._v(" "),a("p",[t._v("js 中除了会遇到精度丢失（比较常见），还有一个就是大数危机。当我们使用的数字超过了 js 能够表示的最大安全整数，我们得到的结果就不再准确了。")]),t._v(" "),a("h3",{attrs:{id:"最大安全整数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最大安全整数"}},[t._v("#")]),t._v(" 最大安全整数")]),t._v(" "),a("p",[t._v("最大的安全整数是 Number.MAX_SAFE_INTEGER(9007199254740991), 2^53 - 1.")]),t._v(" "),a("p",[t._v("如果超过这个范围，精度就变得不再准确，越大的数字跨越的将越大。")]),t._v(" "),a("p",[t._v("52 为的小数部分存储满了之后，跨越到指数部分，就会产生精度丢失了。")]),t._v(" "),a("ol",[a("li",[t._v("2^53\n"),a("img",{attrs:{src:"/js/大数1.png",width:"800",height:"500"}})])]),t._v(" "),a("p",[t._v("我们可以看出，当 2^53 的时候, 最后一位尾数为 0 的数字可以被准确表示, 而 1尾数的不能被精确表示, 这时候能够表示的精度比列是 1:2。")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("2^54\n"),a("img",{attrs:{src:"/js/大数2.png",width:"800",height:"500"}}),t._v("\n当为 2^54 的时候，这个时候， 只有最后两位尾数为00的可以被精确表示，这个时候精度能被正确表示的比例为 1:4。")])]),t._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("ul",[a("li",[t._v("(2^53, 2^54) 之间的数会两个选一个，只能精确表示偶数.")]),t._v(" "),a("li",[t._v("(2^54, 2^55) 之间的数会四个选一个，只能精确表示4个倍数")])]),t._v(" "),a("p",[t._v("会呈现一个倍数递增的关系，所以越大表示的精确数字越少。")]),t._v(" "),a("h3",{attrs:{id:"infinity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#infinity"}},[t._v("#")]),t._v(" Infinity")]),t._v(" "),a("p",[t._v("在 js 中，有特殊值 Infinity， 用来表示无穷。")]),t._v(" "),a("p",[t._v("js 中指数表示正数的部分为 2^1024, 超出这个部分就会发生正向溢出，js 用Infinity来表示。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1023")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.98846567431158e+307")]),t._v("\n\nMath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);